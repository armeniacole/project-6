(window["webpackJsonpproject-6"]=window["webpackJsonpproject-6"]||[]).push([[0],{51:function(e,t,a){e.exports=a(88)},56:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(19),c=a.n(s),i=(a(56),a(12)),l=a(15),o=a(7),m=a(8),u=a(10),p=a(9),d=a(11),v=a(2),h=a(14),g=a(48),E=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(u.a)(this,Object(p.a)(t).call(this))).checkName=function(t){t.preventDefault();var a=[];e.props.event.forEach((function(e){a.push(e.eventName)})),a.includes("".concat(e.props.createEventName))?e.setState({userIsDuplicate:!e.state.userIsDuplicate}):e.props.createEvent()},e.moveToSection=function(){g.scroller.scrollTo("events",{duration:1500,delay:10,smooth:"easeInOutQuint"})},e.state={userIsDuplicate:!1},e}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"landingPage"},r.a.createElement("header",{className:"landingHeader"},r.a.createElement("h1",null,"What's For Dinner?")),r.a.createElement("section",{className:"start"},r.a.createElement("div",{className:"wrapper startContainer"},r.a.createElement("div",{className:"tagLine"},r.a.createElement("h2",null,"We help you organize ",r.a.createElement("span",{className:"redText"},"Dinner Parties"))),r.a.createElement("div",{className:"startForm"},r.a.createElement("form",{onSubmit:this.checkName,action:""},""!==this.props.errorMessage?r.a.createElement("p",null,this.props.errorMessage):null,r.a.createElement("input",{onChange:this.props.getEventName,name:"createEvent",className:"createEvent",type:"text",placeholder:"enter the organizer's name"}),r.a.createElement("label",{htmlFor:"createEvent",className:"visuallyHidden"},"Enter your group name"),r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{className:"submit"},"Submit"),r.a.createElement("p",null,"or"),r.a.createElement("div",{className:"skipToEvents",onClick:this.moveToSection},r.a.createElement("p",null,"Skip To Events")))),this.state.userIsDuplicate?r.a.createElement("p",null,"User already exists"):null))),r.a.createElement("section",{className:"events"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",null,r.a.createElement("h2",null,"Events"),r.a.createElement("h3",null,"Click on event to view dinner party")),r.a.createElement("ul",null,this.props.event?this.props.event.map((function(e,t){return r.a.createElement(v.b,{key:t,to:"/dashboard/".concat(e.eventName)},r.a.createElement("li",{key:t},e.eventName))})):null))))}}]),t}(n.Component),f=a(30),b=a.n(f);a(68);b.a.initializeApp({apiKey:"AIzaSyDfnLUSNBZGj6ENYLSwpqyMdp4YJ8zDUvw",authDomain:"whats-for-dinner-a216e.firebaseapp.com",databaseURL:"https://whats-for-dinner-a216e.firebaseio.com",projectId:"whats-for-dinner-a216e",storageBucket:"",messagingSenderId:"113268541767",appId:"1:113268541767:web:6abfd7cd097beed865e462"});var N=b.a,y=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(u.a)(this,Object(p.a)(t).call(this))).getNewGuest=function(t){e.setState(Object(l.a)({},t.target.name,t.target.value))},e.addGuest=function(t){t.preventDefault();var a=Object(i.a)(e.state.guestList),n={name:e.state.newGuest};a.unshift(n),e.setState({guestList:a,newGuest:""},(function(){N.database().ref("events/".concat(e.props.match.params.partyName,"/guests")).update({guestList:e.state.guestList})}))},e.currentGuest=function(t){t.preventDefault();var a=t.target.value.toString(),n=e.state.guestList[a].ingredients?Object(i.a)(e.state.guestList[a].ingredients):[];e.setState({currentGuest:a,currentIngredients:n})},e.selectIngredient=function(t){t.preventDefault();var a={item:t.target.value,recipeNumber:t.target.id};console.log(a);var n=parseInt(t.target.name,10),r=Object(i.a)(e.state.currentIngredients);r.push(a),console.log(r);var s=Object(i.a)(e.state.remainingIngredients);s.splice(n,1),e.setState({currentIngredients:r,remainingIngredients:s})},e.addIngredient=function(t){t.preventDefault(),N.database().ref("events/".concat(e.props.match.params.partyName,"/guests/guestList/").concat(e.state.currentGuest)).update({ingredients:e.state.currentIngredients}),N.database().ref("events/".concat(e.props.match.params.partyName)).update({unassignedIngredients:e.state.remainingIngredients})},e.removeFromCart=function(t){t.preventDefault();var a=t.target.name,n=parseInt(a,10),r=e.state.currentIngredients;r.splice(n,1);var s={item:t.target.value,recipeNumber:t.target.id},c=Object(i.a)(e.state.remainingIngredients);c.push(s),e.setState({currentIngredients:r,remainingIngredients:c})},e.deleteMeal=function(t,a){t.preventDefault();var n=t.target.id;N.database().ref("events/".concat(e.props.match.params.partyName,"/recipes")).child(a).remove();var r=Object(i.a)(e.state.remainingIngredients).filter((function(e){return e.recipeNumber!=n}));N.database().ref("events/".concat(e.props.match.params.partyName)).update({unassignedIngredients:r});var s=Object(i.a)(e.state.guestList).map((function(e){var t=e.ingredients.filter((function(e){return e.recipeNumber!=n}));return{name:e.name,ingredients:t}})),c=N.database().ref("events/".concat(e.props.match.params.partyName,"/guests"));console.log(s),c.update({guestList:s})},e.state={event:[],newGuest:"",guestList:[],recipes:[],remainingIngredients:[],currentGuest:"",currentIngredients:[]},e}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;N.database().ref("events/".concat(this.props.match.params.partyName)).on("value",(function(t){var a=t.val(),n=Object.values(a),r=Object.values(n[2]);r.pop();var s=[];if("dummy"===n[3][0]){var c=r.map((function(e,t){return e.ingredients.map((function(e){return{item:e,recipeNumber:t}}))}));console.log(c),s=c.reduce((function(e,t){return e.concat(t)}),[])}else s=n[3];e.setState({event:n,guestList:n[1].guestList?n[1].guestList:[],recipes:n[2]?r:[],remainingIngredients:n[2]?s:[]})}))}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this,t=this.state.newGuest.length>0,a=""!==this.state.currentGuest&&this.state.currentIngredients!==[];return r.a.createElement("div",{className:"dashBoard"},r.a.createElement("header",{className:"dash"},r.a.createElement("div",{className:"mainHeader"},r.a.createElement("h1",null,"What's For Dinner?"),r.a.createElement("nav",null,r.a.createElement(v.b,{to:"/"},"Home"))),r.a.createElement("h2",null,this.state.event[0],"'s dinner party")),r.a.createElement("div",{className:"stepOne"},r.a.createElement("div",{className:"rightSideContainer"},r.a.createElement("form",{onSubmit:this.addGuest,action:""},r.a.createElement("label",{htmlFor:"addGuest",className:"labelBorder"},"Add A Guest:"),r.a.createElement("input",{onChange:this.getNewGuest,name:"newGuest",placeholder:"Enter the name of your guest",value:this.state.newGuest,type:"text",id:"addGuest"}),r.a.createElement("label",{className:"visuallyHidden",htmlFor:"clickToSubmitGuest"}),r.a.createElement("button",{disabled:!t,id:"clickToSubmitGuest"},"Add guest"))),r.a.createElement("div",{className:"leftSideContainer"},r.a.createElement("p",null,"Add A Recipe:"),r.a.createElement(v.b,{to:"/recipegrid/".concat(this.props.match.params.partyName)},r.a.createElement("button",null,"Find Recipes")))),r.a.createElement("section",null,r.a.createElement("div",{className:"backgroundContainer"},r.a.createElement("div",{className:"recipesContainer"},r.a.createElement("div",{className:"yourRecipes"},r.a.createElement("p",null,"Your recipes:")),this.state.recipes?this.state.recipes.map((function(t,a){return r.a.createElement("div",{className:"chosenRecipes"},r.a.createElement(v.b,{key:a,to:"/fullrecipe/".concat(t.recipe.idMeal,"/").concat(e.props.match.params.partyName),className:"imageLink"},r.a.createElement("h3",null,t.recipe.strMeal),r.a.createElement("img",{src:t.recipe.strMealThumb,alt:t.recipe.strMeal})),r.a.createElement("button",{onClick:function(a){e.deleteMeal(a,t.recipe.strMeal)},id:a},"delete"))})):null))),r.a.createElement("div",{className:"stepTwo"},r.a.createElement("section",{className:"ingredientsContainer"},r.a.createElement("h3",{className:"stepTwoHeader"},"Your Ingredients List"),r.a.createElement("ul",{className:"ingredients"},this.state.recipes?this.state.remainingIngredients.map((function(t,a){return r.a.createElement("li",{key:a,className:"buttonContainer"},r.a.createElement("button",{name:a,onClick:e.selectIngredient,value:t.item,id:t.recipeNumber},t.item))})):console.log("fail"))),r.a.createElement("section",{className:"basket"},r.a.createElement("h3",{className:"stepTwoHeader"},"Who's bringing what?"),r.a.createElement("form",{action:""},r.a.createElement("label",{class:"visuallyHidden"},"Please Select a Guest To Add Ingredients To Their Cart"),r.a.createElement("select",{onChange:this.currentGuest,name:"",id:""},r.a.createElement("option",{value:""},"Please Select a Guest"),this.state.guestList?this.state.guestList.map((function(e,t){return r.a.createElement("option",{name:"currentGuest",value:t},e.name)})):console.log("fail")),r.a.createElement("div",null,r.a.createElement("ul",{className:"addedIngredientContainer"},this.state.currentIngredients?this.state.currentIngredients.map((function(t,a){return r.a.createElement("div",null,r.a.createElement("li",{key:a},t.item,r.a.createElement("button",{name:a,value:t.item,id:t.recipeNumber,onClick:e.removeFromCart,className:"removeButtonStyle"},r.a.createElement("i",{class:"far fa-trash-alt"}))))})):console.log("fail"))),r.a.createElement("button",{disabled:!a,onClick:this.addIngredient},"Save"),a?r.a.createElement("p",{className:"instructionsMessage"},"Click on items from your ingredients list to add them to this guests's cart"):r.a.createElement("p",{className:"instructionsMessage"},"Please Select a Guest To Add Ingredients To Their Cart"),r.a.createElement("i",{class:"fas fa-shopping-cart"})))),r.a.createElement("section",{className:"guests"},r.a.createElement("p",{className:"whatsInYourBasket"},"What's in your basket?"),r.a.createElement("div",{className:"stepThree"},this.state.guestList?this.state.guestList.map((function(e,t){return r.a.createElement("div",{className:"guestIngredientContainer"},r.a.createElement("h3",{key:t},e.name),r.a.createElement("ul",null,e.ingredients?e.ingredients.map((function(e,t){return r.a.createElement("li",{key:t}," ",e.item)})):console.log("fail")))})):console.log("fail"))),r.a.createElement("footer",null,r.a.createElement("p",null," \xa9 2019 What's for dinner? ")))}}]),t}(n.Component),j=a(20),O=a.n(j),I=(a(86),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(u.a)(this,Object(p.a)(t).call(this))).updateUserCategory=function(t){e.setState({userCategory:t.target.value},(function(){e.axiosCall(e.state.userCategory)}))},e.axiosCall=function(t){O()({url:"https://www.themealdb.com/api/json/v1/1/filter.php?c=".concat(t),method:"GET",dataResponse:"json"}).then((function(t){var a=[];a.push(t.data.meals),e.setState({userRecipes:a[0]})}))},e.state={userCategory:"",userRecipes:[]},e}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:""},r.a.createElement("header",null,r.a.createElement("h1",null,"Find a recipe")),r.a.createElement("div",{className:"navContainer"},r.a.createElement(v.b,{to:"/",className:"link"},"Home"),r.a.createElement(v.b,{to:"/event/:",className:"link"},"Event Page")),r.a.createElement("form",{action:""},r.a.createElement("div",{className:"box"},r.a.createElement("select",{onChange:this.updateUserCategory,name:"",id:""},r.a.createElement("option",{value:"Beef"},"Beef"),r.a.createElement("option",{value:"Chicken"},"Chicken"),r.a.createElement("option",{value:"Dessert"},"Dessert"),r.a.createElement("option",{value:"Lamb"},"Lamb"),r.a.createElement("option",{value:"Pasta"},"Pasta"),r.a.createElement("option",{value:"Pork"},"Pork"),r.a.createElement("option",{value:"Seafood"},"Seafood"),r.a.createElement("option",{value:"Side"},"Side"),r.a.createElement("option",{value:"Starter"},"Starter"),r.a.createElement("option",{value:"Vegan"},"Vegan"),r.a.createElement("option",{value:"Vegetarian"},"Vegetarian"),r.a.createElement("option",{value:"Miscellaneous"},"Miscellaneous"))),r.a.createElement("p",{className:"instructions"},"Select a category from the drop down menu then press a recipe!")),r.a.createElement("div",null,r.a.createElement("ul",{className:"recipePreviews"},this.state.userRecipes.map((function(t,a){return r.a.createElement("li",{id:t.idMeal},r.a.createElement(v.b,{to:"/fullrecipe/".concat(t.idMeal,"/").concat(e.props.match.params.partyName)},r.a.createElement("h2",null,t.strMeal),r.a.createElement("img",{src:t.strMealThumb})))})))))}}]),t}(n.Component)),k=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(u.a)(this,Object(p.a)(t).call(this))).sendToFirebase=function(t){t.preventDefault();var a={recipe:e.state.recipeObject,ingredients:e.state.finalIngredientsArray};N.database().ref("events/".concat(e.props.match.params.partyName,"/recipes")).update(Object(l.a)({},e.state.recipeObject.strMeal,a))},e.state={recipeObject:"",finalIngredientsArray:[]},e}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;O()({url:"https://www.themealdb.com/api/json/v1/1/lookup.php?i=".concat(this.props.match.params.idMeal),method:"GET",dataResponse:"json"}).then((function(t){var a=t.data.meals[0];e.setState({recipeObject:a});for(var n=[],r=1;r<21;r++){var s=[],c=[],i=[];e.state.recipeObject["strMeasure".concat(r)]&&""!==e.state.recipeObject["strMeasure".concat(r)]&&(c=e.state.recipeObject["strMeasure".concat(r)],s.push(c)),e.state.recipeObject["strIngredient".concat(r)]&&""!==e.state.recipeObject["strIngredient".concat(r)]&&(i=e.state.recipeObject["strIngredient".concat(r)],s.push(i)),"to serve"===s[0]&&(s=[s[1],"for serving"]),0!==s.length&&n.push(s.join(" "))}e.setState({finalIngredientsArray:n})}))}},{key:"render",value:function(){return console.log(this.props),r.a.createElement("div",{className:"fullRecipe"},r.a.createElement("header",{className:"mainHeader"},r.a.createElement("h1",null,"What's For Dinner?"),r.a.createElement("nav",null,r.a.createElement(v.b,{to:"/",className:"link"},"Home"),r.a.createElement(v.b,{to:"/dashboard/".concat(this.props.match.params.partyName),className:"link"},"Event Dashboard"),r.a.createElement(v.b,{to:"/recipegrid/".concat(this.props.match.params.partyName),className:"link"},"Recipes"))),r.a.createElement("div",{className:"titleAndPicture"},r.a.createElement("div",{className:"imageContainer"},r.a.createElement("img",{src:this.state.recipeObject.strMealThumb,alt:""})),r.a.createElement("div",{className:"recipeTitle"},r.a.createElement("h2",null,"          ",this.state.recipeObject.strMeal),r.a.createElement("button",{onClick:this.sendToFirebase},"Save recipe"))),r.a.createElement("div",{className:"recipeContainer"},r.a.createElement("div",{className:"ingredientList"},this.state.finalIngredientsArray.map((function(e){return r.a.createElement("p",null,e)}))),r.a.createElement("div",{className:"recipeInstructions"},r.a.createElement("div",{className:"instruction"},r.a.createElement("h3",null,"Instructions:"),r.a.createElement("p",null,this.state.recipeObject.strInstructions)))))}}]),t}(r.a.Component),S=(a(87),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(u.a)(this,Object(p.a)(t).call(this))).getEventName=function(t){e.setState(Object(l.a)({},t.target.name,t.target.value))},e.createEvent=function(){if(""!==e.state.createEvent){var t=Object(i.a)(e.state.events),a={name:e.state.createEvent};t.unshift(a),e.setState({events:t},(function(){N.database().ref("events/".concat(e.state.events[0].name)).set({eventName:e.state.events[0].name,guests:{dummy:0},recipes:{dummy:0},unassignedIngredients:["dummy"]})}))}else e.setState({errorMessage:"Please enter a name for your event before clicking submit"})},e.state={events:[],createEvent:"",errorMessage:""},e}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;N.database().ref("events").on("value",(function(t){var a=t.val(),n=Object.values(a);e.setState({events:n||[]})}))}},{key:"render",value:function(){var e=this;return r.a.createElement(v.a,{basename:"/project-6"},r.a.createElement("div",{className:"App"},r.a.createElement(h.a,{exact:!0,path:"/",render:function(){return r.a.createElement(E,{event:e.state.events,getEventName:e.getEventName,createEvent:e.createEvent,errorMessage:e.state.errorMessage,errorMessage2:e.state.errorMessage2,createEventName:e.state.createEvent})}}),r.a.createElement(h.a,{path:"/dashboard/:partyName",render:function(t){return r.a.createElement(y,Object.assign({},t,{event:e.state.events}))}}),r.a.createElement(h.a,{path:"/recipegrid/:partyName",component:I}),r.a.createElement(h.a,{path:"/fullrecipe/:idMeal/:partyName",render:function(t){var a=t.match;return r.a.createElement(k,{sendUserSelectionToState:e.sendUserSelectionToState,match:a})}})))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[51,1,2]]]);
//# sourceMappingURL=main.6b918408.chunk.js.map