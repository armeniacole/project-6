(window["webpackJsonpproject-6"]=window["webpackJsonpproject-6"]||[]).push([[0],{51:function(e,t,a){e.exports=a(89)},56:function(e,t,a){},57:function(e,t,a){e.exports=a.p+"static/media/heroImage.4fd9abdf.png"},88:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(19),c=a.n(s),i=(a(56),a(16)),l=a(14),o=a(7),u=a(8),m=a(10),p=a(9),d=a(11),v=a(2),h=a(13),E=(a(57),a(28)),g=a.n(E);a(58);g.a.initializeApp({apiKey:"AIzaSyDfnLUSNBZGj6ENYLSwpqyMdp4YJ8zDUvw",authDomain:"whats-for-dinner-a216e.firebaseapp.com",databaseURL:"https://whats-for-dinner-a216e.firebaseio.com",projectId:"whats-for-dinner-a216e",storageBucket:"",messagingSenderId:"113268541767",appId:"1:113268541767:web:6abfd7cd097beed865e462"});var f=g.a,b=a(48),N=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).checkName=function(t){t.preventDefault();var a=[];e.props.event.forEach((function(e){a.push(e.eventName)})),a.includes("".concat(e.props.createEventName))?e.setState({userIsDuplicate:!e.state.userIsDuplicate}):e.props.createEvent()},e.moveToSection=function(){b.scroller.scrollTo("events",{duration:1500,delay:20,smooth:"easeInOutQuint"})},e.state={userIsDuplicate:!1},e}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"landingPage"},r.a.createElement("header",{className:"landingHeader"},r.a.createElement("h1",null,"What's For Dinner?")),r.a.createElement("section",{className:"start"},r.a.createElement("div",{className:"wrapper startContainer"},r.a.createElement("div",{className:"tagLine"},r.a.createElement("h2",null,"We help you organize ",r.a.createElement("span",{className:"redText"},"Dinner Parties"))),r.a.createElement("div",{className:"startForm"},r.a.createElement("form",{onSubmit:this.checkName,action:""},""!==this.props.errorMessage?r.a.createElement("p",null,this.props.errorMessage):null,r.a.createElement("input",{onChange:this.props.getEventName,name:"createEvent",className:"createEvent",type:"text",placeholder:"enter your group name"}),r.a.createElement("label",{htmlFor:"createEvent",className:"visuallyHidden"},"Enter your group name"),r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{className:"submit"},"Submit"),r.a.createElement("p",null,"or"),r.a.createElement("div",{className:"skipToEvents",onClick:this.moveToSection},r.a.createElement("p",null,"Skip To Events")))),this.state.userIsDuplicate?r.a.createElement("p",null,"User already exists"):null))),r.a.createElement("section",{className:"events"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",null,r.a.createElement("h2",null,"Events"),r.a.createElement("h3",null,"Click on event to view dinner party")),r.a.createElement("ul",null,this.props.event?this.props.event.map((function(e,t){return r.a.createElement(v.b,{key:t,to:"/dashboard/".concat(e.eventName)},r.a.createElement("li",{key:t},e.eventName))})):null))))}}]),t}(n.Component),j=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).getNewGuest=function(t){e.setState(Object(l.a)({},t.target.name,t.target.value))},e.addGuest=function(t){t.preventDefault();var a=Object(i.a)(e.state.guestList),n={name:e.state.newGuest};a.unshift(n),e.setState({guestList:a,newGuest:""},(function(){f.database().ref("events/".concat(e.props.match.params.partyName,"/guests")).update({guestList:e.state.guestList})}))},e.currentGuest=function(t){t.preventDefault();var a=t.target.value.toString(),n=e.state.guestList[a].ingredients?Object(i.a)(e.state.guestList[a].ingredients):[];e.setState({currentGuest:a,currentIngredients:n})},e.selectIngredient=function(t){t.preventDefault();var a=t.target.value,n=parseInt(t.target.name,10),r=Object(i.a)(e.state.currentIngredients);r.push(a);var s=e.state.remainingIngredients;s.splice(n,1),e.setState({currentIngredients:r,remainingIngredients:s})},e.addIngredient=function(t){t.preventDefault(),f.database().ref("events/".concat(e.props.match.params.partyName,"/guests/guestList/").concat(e.state.currentGuest)).update({ingredients:e.state.currentIngredients},(function(){e.setState({currentIngredients:[]})}))},e.removeFromCart=function(t){t.preventDefault();var a=t.target.value,n=parseInt(a,10),r=e.state.currentIngredients;r.splice(n,1),e.setState({currentIngredients:r})},e.deleteMeal=function(t){f.database().ref("events/".concat(e.props.match.params.partyName,"/recipes")).child(t).remove()},e.state={event:[],newGuest:"",guestList:[],recipes:[],remainingIngredients:[],currentGuest:"",currentIngredients:[]},e}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.database().ref("events/".concat(this.props.match.params.partyName)).on("value",(function(t){var a=t.val(),n=Object.values(a),r=Object.values(n[2]);r.pop();var s=r.map((function(e,t){return e.ingredients.map((function(e,t){return e}))})).reduce((function(e,t){return e.concat(t)}),[]);e.setState({event:n,guestList:n[1].guestList?n[1].guestList:[],recipes:n[2]?r:[],remainingIngredients:n[2]?s:[]})}))}},{key:"render",value:function(){var e=this,t=this.state.newGuest.length>0,a=""!==this.state.currentGuest&&this.state.currentIngredients!==[];return r.a.createElement("div",{className:"dashBoard"},r.a.createElement("header",{className:"dash"},r.a.createElement("h1",null,this.state.event[0]),r.a.createElement(v.b,{to:"/"},"Home")),r.a.createElement("div",{className:"stepOne"},r.a.createElement("form",{onSubmit:this.addGuest,action:""},r.a.createElement("label",{htmlFor:"addGuest"}),r.a.createElement("input",{onChange:this.getNewGuest,name:"newGuest",placeholder:"add a new guest one at a time",value:this.state.newGuest,type:"text",id:"addGuest"}),r.a.createElement("label",{htmlFor:"clickToSubmitGuest"}),r.a.createElement("button",{disabled:!t,id:"clickToSubmitGuest"},"Add guest")),r.a.createElement(v.b,{to:"/recipegrid/".concat(this.props.match.params.partyName)},"Find Recipes")),r.a.createElement("section",{className:"chosenRecipes"},this.state.recipes?this.state.recipes.map((function(t,a){return r.a.createElement("div",null,r.a.createElement(v.b,{key:a,to:"/fullrecipe/".concat(t.recipe.idMeal,"/").concat(e.props.match.params.partyName)},r.a.createElement("h3",null,t.recipe.strMeal),r.a.createElement("img",{src:t.recipe.strMealThumb,alt:t.recipe.strMeal})),r.a.createElement("button",{onClick:function(){return e.deleteMeal(t.recipe.strMeal)}},"delete"))})):console.log("fail")),r.a.createElement("div",{className:"stepTwo"},r.a.createElement("section",{className:"ingredients"},r.a.createElement("ul",null,this.state.recipes?this.state.remainingIngredients.map((function(t,a){return r.a.createElement("li",{key:a},r.a.createElement("button",{name:a,onClick:e.selectIngredient,value:t},t))})):console.log("fail"))),r.a.createElement("section",{className:"basket"},r.a.createElement("form",{action:""},r.a.createElement("select",{onChange:this.currentGuest,name:"",id:""},r.a.createElement("option",{value:""},"Please Select a Guest"),this.state.guestList?this.state.guestList.map((function(e,t){return r.a.createElement("option",{name:"currentGuest",value:t},e.name)})):console.log("fail")),r.a.createElement("div",null,r.a.createElement("ul",null,this.state.currentIngredients?this.state.currentIngredients.map((function(t,a){return r.a.createElement("div",null,r.a.createElement("li",{key:a},t),r.a.createElement("button",{value:a,onClick:e.removeFromCart},"Remove"))})):console.log("fail"))),r.a.createElement("button",{disabled:!a,onClick:this.addIngredient},"Save"),!a&&r.a.createElement("p",null,"Please check you have selected a guest and some ingredients")))),r.a.createElement("section",{className:"guests stepThree"},this.state.guestList?this.state.guestList.map((function(e,t){return r.a.createElement("div",null,r.a.createElement("h3",{key:t},e.name),r.a.createElement("ul",null,e.ingredients?e.ingredients.map((function(e,t){return r.a.createElement("li",{key:t}," ",e)})):console.log("fail")))})):console.log("fail")))}}]),t}(n.Component),y=a(20),O=a.n(y),k=(a(87),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).updateUserCategory=function(t){e.setState({userCategory:t.target.value},(function(){e.axiosCall(e.state.userCategory)}))},e.axiosCall=function(t){O()({url:"https://www.themealdb.com/api/json/v1/1/filter.php?c=".concat(t),method:"GET",dataResponse:"json"}).then((function(t){var a=[];a.push(t.data.meals),e.setState({userRecipes:a[0]})}))},e.state={userCategory:"",userRecipes:[]},e}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:""},r.a.createElement("header",null,r.a.createElement("h1",null,"Find a recipe")),r.a.createElement("div",{className:"navContainer"},r.a.createElement(v.b,{to:"/",className:"link"},"Home"),r.a.createElement(v.b,{to:"/event/:",className:"link"},"Event Page")),r.a.createElement("form",{action:""},r.a.createElement("div",{className:"box"},r.a.createElement("select",{onChange:this.updateUserCategory,name:"",id:""},r.a.createElement("option",{value:"Beef"},"Beef"),r.a.createElement("option",{value:"Chicken"},"Chicken"),r.a.createElement("option",{value:"Dessert"},"Dessert"),r.a.createElement("option",{value:"Lamb"},"Lamb"),r.a.createElement("option",{value:"Pasta"},"Pasta"),r.a.createElement("option",{value:"Pork"},"Pork"),r.a.createElement("option",{value:"Seafood"},"Seafood"),r.a.createElement("option",{value:"Side"},"Side"),r.a.createElement("option",{value:"Starter"},"Starter"),r.a.createElement("option",{value:"Vegan"},"Vegan"),r.a.createElement("option",{value:"Vegetarian"},"Vegetarian"),r.a.createElement("option",{value:"Miscellaneous"},"Miscellaneous"))),r.a.createElement("p",{className:"instructions"},"Select a category from the drop down menu then press a recipe!")),r.a.createElement("div",null,r.a.createElement("ul",{className:"recipePreviews"},this.state.userRecipes.map((function(t,a){return r.a.createElement("li",{id:t.idMeal},r.a.createElement(v.b,{to:"/fullrecipe/".concat(t.idMeal,"/").concat(e.props.match.params.partyName)},r.a.createElement("h2",null,t.strMeal),r.a.createElement("img",{src:t.strMealThumb})))})))))}}]),t}(n.Component)),S=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).sendToFirebase=function(t){t.preventDefault();var a={recipe:e.state.recipeObject,ingredients:e.state.finalIngredientsArray};f.database().ref("events/".concat(e.props.match.params.partyName,"/recipes")).update(Object(l.a)({},e.state.recipeObject.strMeal,a))},e.state={recipeObject:"",finalIngredientsArray:[]},e}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;O()({url:"https://www.themealdb.com/api/json/v1/1/lookup.php?i=".concat(this.props.match.params.idMeal),method:"GET",dataResponse:"json"}).then((function(t){var a=t.data.meals[0];e.setState({recipeObject:a});for(var n=[],r=1;r<21;r++){var s=[],c=[],i=[];e.state.recipeObject["strMeasure".concat(r)]&&""!==e.state.recipeObject["strMeasure".concat(r)]&&(c=e.state.recipeObject["strMeasure".concat(r)],s.push(c)),e.state.recipeObject["strIngredient".concat(r)]&&""!==e.state.recipeObject["strIngredient".concat(r)]&&(i=e.state.recipeObject["strIngredient".concat(r)],s.push(i)),"to serve"===s[0]&&(s=[s[1],"for serving"]),0!==s.length&&n.push(s.join(" "))}e.setState({finalIngredientsArray:n})}))}},{key:"render",value:function(){return console.log(this.props),r.a.createElement("div",{className:""},r.a.createElement("header",null,r.a.createElement("h1",null,"Full Recipes")),r.a.createElement("div",{className:"navContainer"},r.a.createElement("button",{onClick:this.sendToFirebase},"Save recipe"),r.a.createElement(v.b,{to:"/",className:"link"},"Home"),r.a.createElement(v.b,{to:"/dashboard/".concat(this.props.match.params.partyName),className:"link"},"Event Dashboard"),r.a.createElement(v.b,{to:"/recipegrid/".concat(this.props.match.params.partyName),className:"link"},"Recipes")),r.a.createElement("div",{className:"imageAndTitleContainer"},r.a.createElement("h2",null,this.state.recipeObject.strMeal),r.a.createElement("img",{src:this.state.recipeObject.strMealThumb,alt:""})),this.state.finalIngredientsArray.map((function(e){return r.a.createElement("p",null,e)})),r.a.createElement("p",null,this.state.recipeObject.strInstructions))}}]),t}(r.a.Component),I=(a(88),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).getEventName=function(t){e.setState(Object(l.a)({},t.target.name,t.target.value))},e.createEvent=function(){if(""!==e.state.createEvent){var t=Object(i.a)(e.state.events),a={name:e.state.createEvent};t.unshift(a),e.setState({events:t},(function(){f.database().ref("events/".concat(e.state.events[0].name)).set({eventName:e.state.events[0].name,guests:{dummy:0},recipes:{dummy:0}})}))}else e.setState({errorMessage:"Please enter a name for your event before clicking submit"})},e.state={events:[],createEvent:"",errorMessage:""},e}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.database().ref("events").on("value",(function(t){var a=t.val(),n=Object.values(a);e.setState({events:n||[]})}))}},{key:"render",value:function(){var e=this;return r.a.createElement(v.a,null,r.a.createElement("div",{className:"App"},r.a.createElement("p",null,"safi!!"),r.a.createElement(h.a,{exact:!0,path:"/",render:function(){return r.a.createElement(N,{event:e.state.events,getEventName:e.getEventName,createEvent:e.createEvent,errorMessage:e.state.errorMessage,errorMessage2:e.state.errorMessage2,createEventName:e.state.createEvent})}}),r.a.createElement(h.a,{path:"/dashboard/:partyName",render:function(t){return r.a.createElement(j,Object.assign({},t,{event:e.state.events}))}}),r.a.createElement(h.a,{path:"/recipegrid/:partyName",component:k}),r.a.createElement(h.a,{path:"/fullrecipe/:idMeal/:partyName",render:function(t){var a=t.match;return r.a.createElement(S,{sendUserSelectionToState:e.sendUserSelectionToState,match:a})}})))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[51,1,2]]]);
//# sourceMappingURL=main.3ea78473.chunk.js.map